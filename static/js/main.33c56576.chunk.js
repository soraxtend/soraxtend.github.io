(this.webpackJsonptcas2020=this.webpackJsonptcas2020||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(4),l=a.n(i),s=(a(16),a(2)),c=a.n(s),u=a(5),o=a(6),d=a(7),m=a(9),p=a(8),f=a(10),h=a(1),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e)))._filterUniversity=function(e){return!a.state.selectedUniversityId||parseInt(e.university_id,10)===parseInt(a.state.selectedUniversityId,10)},a._filterFaculty=function(e){return!a.state.selectedFacultyId||parseInt(e.faculty_id,10)===parseInt(a.state.selectedFacultyId,10)},a._filterField=function(e){return!a.state.selectedFieldId||parseInt(e.field_id,10)===parseInt(a.state.selectedFieldId,10)},a._filterProgram=function(e){return!a.state.selectedProgramId||parseInt(e.program_id,10)===parseInt(a.state.selectedProgramId,10)},a._filterProgramType=function(e){return!a.state.selectedProgramTypeId||parseInt(e.program_type_id,10)===parseInt(a.state.selectedProgramTypeId,10)},a.state={loading:!1,data:[]},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,fetch("https://raw.githubusercontent.com/soraxtend/soraxtend.github.io/master/courses-all.json");case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,this.setState({loading:!1,data:a,filteredRows:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error while trying to fetch data",e.t0),this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.data.filter(this._filterUniversity).filter(this._filterFaculty).filter(this._filterField).filter(this._filterProgram).filter(this._filterProgramType),a=Object(h.uniqBy)((this.state.selectedUniversityId?this.state.data:t).map((function(e){return{universityTypeId:e.university_type_id,universityTypeNameTh:e.university_type_name_th,universityId:e.university_id,universityNameTh:e.university_name_th,universityNameEn:e.university_name_en}})),"universityId"),r=Object(h.uniqBy)((this.state.selectedFacultyId?this.state.data.filter(this._filterUniversity):t).map((function(e){return{facultyId:e.faculty_id,facultyNameTh:e.faculty_name_th,facultyNameEn:e.faculty_name_en}})),"facultyId"),i=Object(h.uniqBy)((this.state.selectedFieldId?this.state.data.filter(this._filterUniversity).filter(this._filterFaculty):t).map((function(e){return{fieldId:e.field_id,fieldNameTh:e.field_name_th,fieldNameEn:e.field_name_en}})),"fieldId"),l=Object(h.uniqBy)((this.state.selectedFieldId?this.state.data.filter(this._filterUniversity).filter(this._filterFaculty).filter(this._filterField):t).map((function(e){return{programId:e.program_id,programRunningNumber:e.program_running_number,programNameTh:e.program_name_th,programNameEn:e.program_name_en,programTypeId:e.program_type_id,programTypeNameTh:e.program_type_name_th}})),"programId"),s=Object(h.uniqBy)((this.state.selectedFieldId?this.state.data.filter(this._filterUniversity).filter(this._filterFaculty).filter(this._filterField).filter(this._filterProgram):t).map((function(e){return{programTypeId:e.program_type_id,programTypeNameTh:e.program_type_name_th}})),"programTypeId");return n.a.createElement("div",{className:"App"},n.a.createElement("div",null,n.a.createElement("label",null,"1. \u0e2a\u0e16\u0e32\u0e1a\u0e31\u0e19"),n.a.createElement("select",{value:this.state.selectedUniversityId,onChange:function(t){return e.setState({selectedUniversityId:t.target.value})}},n.a.createElement("option",{value:""},"\u0e41\u0e2a\u0e14\u0e07\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"),(a||[]).map((function(e){var t=e.universityId,a=e.universityNameTh;return n.a.createElement("option",{key:t,value:t},t,": ",a)})))),n.a.createElement("div",null,n.a.createElement("label",null,"2. \u0e04\u0e13\u0e30"),n.a.createElement("select",{value:this.state.selectedFacultyId,onChange:function(t){return e.setState({selectedFacultyId:t.target.value})}},n.a.createElement("option",{value:""},"\u0e41\u0e2a\u0e14\u0e07\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"),(r||[]).map((function(e){var t=e.facultyId,a=e.facultyNameTh;return n.a.createElement("option",{key:t,value:t},t,": ",a)})))),n.a.createElement("div",null,n.a.createElement("label",null,"3. \u0e2a\u0e32\u0e02\u0e32"),n.a.createElement("select",{value:this.state.selectedFieldId,onChange:function(t){return e.setState({selectedFieldId:t.target.value})}},n.a.createElement("option",{value:""},"\u0e41\u0e2a\u0e14\u0e07\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"),(i||[]).map((function(e){var t=e.fieldId,a=e.fieldNameTh;return n.a.createElement("option",{key:t,value:t},t,": ",a)})))),n.a.createElement("div",null,n.a.createElement("label",null,"4. \u0e2b\u0e25\u0e31\u0e01\u0e2a\u0e39\u0e15\u0e23"),n.a.createElement("select",{value:this.state.selectedProgramId,onChange:function(t){return e.setState({selectedProgramId:t.target.value})}},n.a.createElement("option",{value:""},"\u0e41\u0e2a\u0e14\u0e07\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"),(l||[]).map((function(e){var t=e.programId,a=e.programNameTh;return n.a.createElement("option",{key:t,value:t},t,": ",a)})))),n.a.createElement("div",null,n.a.createElement("label",null,"5. \u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e2b\u0e25\u0e31\u0e01\u0e2a\u0e39\u0e15\u0e23"),n.a.createElement("select",{value:this.state.selectedProgramTypeId,onChange:function(t){return e.setState({selectedProgramTypeId:t.target.value})}},n.a.createElement("option",{value:""},"\u0e41\u0e2a\u0e14\u0e07\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"),(s||[]).map((function(e){var t=e.programTypeId,a=e.programTypeNameTh;return n.a.createElement("option",{key:t,value:t},t,": ",a)})))),n.a.createElement("div",null,n.a.createElement("h1",null,"Search Result (",(t||[]).length,")"),this.state.data.length!==t.length&&n.a.createElement("div",null,t.map((function(e,t){return n.a.createElement("div",{key:t},t+1,". ",e.university_name_th," - ",e.faculty_name_th," - ",e.field_name_th," - ",e.program_name_th," - ",e.program_type_name_th)})))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.33c56576.chunk.js.map